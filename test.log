rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
2022/04/20 17:35:58.564233 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:35:58.566419 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:35:58.566578 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 376.337Âµs[0m
2022/04/20 17:35:58.566980 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:35:58.567090 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:35:58.567152 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 97.178Âµs[0m
2022/04/20 17:35:58.567573 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:35:58.567670 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:35:58.567735 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 99.66Âµs[0m
2022/04/20 17:35:58.568079 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:35:58.568163 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:35:58.568215 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 79.686Âµs[0m
2022/04/20 17:35:58.568612 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:35:58.568693 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:35:58.568751 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 85.583Âµs[0m
2022/04/20 17:35:59.121731 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 6 with index 5[0m
2022/04/20 17:35:59.135328 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:35:59.138901 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:35:59.141599 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:35:59.141628 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:35:59.141654 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:35:59.144628 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:36:21.773530 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:36:21.779115 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:36:21.779176 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:36:21.781688 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:36:21.781734 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
--- PASS: TestBasic2B (24.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.522s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
2022/04/20 17:36:25.094873 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:36:25.095287 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 1[0m
2022/04/20 17:36:25.095410 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 292.709Âµs[0m
2022/04/20 17:36:25.096063 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:36:25.096210 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 2[0m
2022/04/20 17:36:25.096314 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 148.306Âµs[0m
2022/04/20 17:36:25.096865 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:36:25.096981 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 3[0m
2022/04/20 17:36:25.097078 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 139.628Âµs[0m
2022/04/20 17:36:25.097622 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:36:25.097738 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 4[0m
2022/04/20 17:36:25.097830 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 135.937Âµs[0m
2022/04/20 17:36:25.098406 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:36:25.098522 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 5[0m
2022/04/20 17:36:25.098611 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 129.502Âµs[0m
2022/04/20 17:36:25.602307 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 6 with index 5[0m
2022/04/20 17:36:25.608341 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:36:25.611062 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:36:25.613961 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:36:25.614006 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:36:25.613975 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:36:25.616533 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:37:04.900902 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:37:04.905877 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:37:04.908371 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:37:04.908419 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:37:04.908448 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
--- PASS: TestConcurrent2B (40.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.891s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
2022/04/20 17:37:08.274683 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:37:08.275064 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:37:08.275172 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 267.487Âµs[0m
2022/04/20 17:37:08.275631 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:37:08.275749 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:37:08.275822 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 110.766Âµs[0m
2022/04/20 17:37:08.276365 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:37:08.276469 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:37:08.276547 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 113.796Âµs[0m
2022/04/20 17:37:08.276986 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:37:08.277097 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:37:08.277179 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 131.454Âµs[0m
2022/04/20 17:37:08.277681 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:37:08.277794 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:37:08.277881 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 126.594Âµs[0m
2022/04/20 17:37:08.778381 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 6 with index 5[0m
2022/04/20 17:37:08.783421 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:08.788395 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:37:08.788397 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:37:08.788416 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:37:08.790788 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:37:08.790791 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:37:14.981080 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 10 with index 403[0m
2022/04/20 17:37:14.983954 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:14.986840 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term10, index404[0m
2022/04/20 17:37:14.986904 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term10, index404[0m
2022/04/20 17:37:14.986922 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term10, index404[0m
2022/04/20 17:37:15.006906 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term10, index404[0m
2022/04/20 17:37:15.056802 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term10, index404[0m
2022/04/20 17:37:24.929116 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 14 with index 933[0m
2022/04/20 17:37:24.929206 raft.go:592: [0;33m[warning] peer 2 handles an old append request with commit 928, it's own commit is 933[0m
2022/04/20 17:37:24.929267 raft.go:592: [0;33m[warning] peer 4 handles an old append request with commit 928, it's own commit is 933[0m
2022/04/20 17:37:24.934175 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:24.939379 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term14, index934[0m
2022/04/20 17:37:24.939422 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term14, index934[0m
2022/04/20 17:37:24.944976 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term14, index934[0m
2022/04/20 17:37:24.973270 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term14, index934[0m
2022/04/20 17:37:25.018380 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term14, index934[0m
2022/04/20 17:37:33.235442 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 16 with index 1459[0m
2022/04/20 17:37:33.243339 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:34.040148 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:34.051081 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term16, index1460[0m
2022/04/20 17:37:34.053940 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term16, index1460[0m
2022/04/20 17:37:34.053963 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term16, index1460[0m
2022/04/20 17:37:34.074733 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term16, index1460[0m
2022/04/20 17:37:34.127627 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term16, index1460[0m
2022/04/20 17:37:37.991887 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:37:37.997380 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:37:37.997447 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:37:38.000262 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:37:38.000363 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
--- PASS: TestUnreliable2B (30.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
2022/04/20 17:37:41.562003 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:37:41.562356 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:37:41.562467 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 257.413Âµs[0m
2022/04/20 17:37:41.562921 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:37:41.563058 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:37:41.563135 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 113.637Âµs[0m
2022/04/20 17:37:41.563635 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:37:41.563749 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:37:41.563832 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 123.741Âµs[0m
2022/04/20 17:37:41.564399 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:37:41.564515 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:37:41.564602 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 127.042Âµs[0m
2022/04/20 17:37:41.565183 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:37:41.565288 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:37:41.565376 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 126.652Âµs[0m
2022/04/20 17:37:42.218636 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 6 with index 5[0m
2022/04/20 17:37:42.225881 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:42.228783 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:37:42.228842 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:37:42.228784 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:37:42.228850 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:37:42.228793 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:37:42.966344 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 7 with index 8[0m
2022/04/20 17:37:42.979162 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:42.986157 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term7, index9[0m
2022/04/20 17:37:42.998043 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term7, index9[0m
2022/04/20 17:37:43.000430 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term7, index9[0m
2022/04/20 17:37:51.429603 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:37:51.437419 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:37:51.485809 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term7, index9[0m
2022/04/20 17:37:51.485858 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term7, index9[0m
2022/04/20 17:37:52.452538 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:37:52.452608 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:37:52.452642 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:37:52.452661 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:37:52.452679 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
--- PASS: TestOnePartition2B (12.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	12.078s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
2022/04/20 17:37:56.106854 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:37:56.107233 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:37:56.107381 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 287.846Âµs[0m
2022/04/20 17:37:56.107896 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:37:56.108008 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:37:56.108077 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 108.57Âµs[0m
2022/04/20 17:37:56.108468 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:37:56.108561 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:37:56.108632 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 100.746Âµs[0m
2022/04/20 17:37:56.109029 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:37:56.109112 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:37:56.109181 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 98.102Âµs[0m
2022/04/20 17:37:56.109576 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:37:56.109665 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:37:56.109729 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 98.125Âµs[0m
2022/04/20 17:37:56.662630 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 6 with index 5[0m
2022/04/20 17:37:56.667818 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:56.673288 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:37:56.673382 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:37:56.673458 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:37:56.673408 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:37:56.673466 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:37:57.410261 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:37:57.967113 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 7 with index 24[0m
2022/04/20 17:37:57.972442 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:57.975360 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term7, index25[0m
2022/04/20 17:37:57.975405 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term7, index25[0m
2022/04/20 17:37:57.977801 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term7, index25[0m
2022/04/20 17:37:57.977867 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term7, index25[0m
2022/04/20 17:37:58.080461 test_test.go:104: [0;37m[info] partition: [2 3 4 5], [1][0m
2022/04/20 17:37:58.163954 raft.go:854: [0;31m[error] peer 2 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:37:58.163987 raft.go:854: [0;31m[error] peer 2 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:37:58.184321 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term7, index25[0m
2022/04/20 17:37:58.592646 test_test.go:104: [0;37m[info] partition: [2 4 5], [1 3][0m
2022/04/20 17:37:59.144886 test_test.go:104: [0;37m[info] partition: [1 2 5], [3 4][0m
2022/04/20 17:37:59.614282 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 10 with index 67[0m
2022/04/20 17:37:59.622352 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:37:59.655101 test_test.go:104: [0;37m[info] partition: [1 3 4], [2 5][0m
2022/04/20 17:37:59.871800 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 11 with index 66[0m
2022/04/20 17:38:00.067758 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:00.141137 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term11, index67[0m
2022/04/20 17:38:00.143776 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term11, index67[0m
2022/04/20 17:38:00.214711 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term11, index67[0m
2022/04/20 17:38:00.222555 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:00.336336 test_test.go:104: [0;37m[info] partition: [3 4], [1 2 5][0m
2022/04/20 17:38:00.859526 test_test.go:104: [0;37m[info] partition: [4 5], [1 2 3][0m
2022/04/20 17:38:00.879643 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term11, index67[0m
2022/04/20 17:38:01.376813 test_test.go:104: [0;37m[info] partition: [], [1 2 3 4 5][0m
2022/04/20 17:38:01.487076 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term11, index67[0m
2022/04/20 17:38:01.901041 test_test.go:104: [0;37m[info] partition: [4 5], [1 2 3][0m
2022/04/20 17:38:02.512359 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 12 with index 92[0m
2022/04/20 17:38:02.519774 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:02.527450 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term12, index93[0m
2022/04/20 17:38:02.527459 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term12, index93[0m
2022/04/20 17:38:02.534374 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term12, index93[0m
2022/04/20 17:38:02.565024 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:02.565041 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:02.620002 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term12, index93[0m
2022/04/20 17:38:02.620053 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term12, index93[0m
2022/04/20 17:38:04.165875 test_test.go:104: [0;37m[info] partition: [2 4], [1 3 5][0m
2022/04/20 17:38:04.713640 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 13 with index 152[0m
2022/04/20 17:38:04.721536 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:04.727047 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term13, index153[0m
2022/04/20 17:38:04.727097 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term13, index153[0m
2022/04/20 17:38:04.727131 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term13, index153[0m
2022/04/20 17:38:04.787139 test_test.go:104: [0;37m[info] partition: [1 2], [3 4 5][0m
2022/04/20 17:38:04.820289 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term13, index153[0m
2022/04/20 17:38:05.355334 test_test.go:104: [0;37m[info] partition: [1 2 3 4 5], [][0m
2022/04/20 17:38:05.368807 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:05.905537 test_test.go:104: [0;37m[info] partition: [1 2 4 5], [3][0m
2022/04/20 17:38:06.165038 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 16 with index 163[0m
2022/04/20 17:38:06.168035 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:06.173268 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:06.236993 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term16, index164[0m
2022/04/20 17:38:06.239506 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term16, index164[0m
2022/04/20 17:38:06.253232 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term13, index153[0m
2022/04/20 17:38:06.273683 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term16, index164[0m
2022/04/20 17:38:06.276308 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term16, index164[0m
2022/04/20 17:38:06.460674 test_test.go:104: [0;37m[info] partition: [1 2 4], [3 5][0m
2022/04/20 17:38:06.552221 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term16, index164[0m
2022/04/20 17:38:07.134842 test_test.go:104: [0;37m[info] partition: [2 4 5], [1 3][0m
2022/04/20 17:38:07.653120 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:38:07.667627 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:07.667658 raft.go:854: [0;31m[error] peer 5 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:07.673243 raft.go:854: [0;31m[error] peer 5 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:08.219299 test_test.go:104: [0;37m[info] partition: [1 2 3 4], [5][0m
2022/04/20 17:38:08.573736 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 19 with index 207[0m
2022/04/20 17:38:08.584945 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:08.663003 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:08.744014 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term19, index208[0m
2022/04/20 17:38:08.749448 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term19, index208[0m
2022/04/20 17:38:08.802497 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term19, index208[0m
2022/04/20 17:38:08.802536 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term19, index208[0m
2022/04/20 17:38:08.849549 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:38:09.003121 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term19, index208[0m
2022/04/20 17:38:11.149284 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:38:11.827519 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:38:12.408700 test_test.go:104: [0;37m[info] partition: [1], [2 3 4 5][0m
2022/04/20 17:38:12.914449 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 22 with index 365[0m
2022/04/20 17:38:12.922683 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:12.931022 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term22, index366[0m
2022/04/20 17:38:12.931090 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term22, index366[0m
2022/04/20 17:38:12.931096 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term22, index366[0m
2022/04/20 17:38:12.963961 test_test.go:104: [0;37m[info] partition: [2 3 5], [1 4][0m
2022/04/20 17:38:13.189060 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term22, index366[0m
2022/04/20 17:38:13.514547 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 23 with index 368[0m
2022/04/20 17:38:13.520012 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:13.527165 test_test.go:104: [0;37m[info] partition: [1 2 3 4 5], [][0m
2022/04/20 17:38:13.615063 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:13.615102 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:13.631951 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term23, index369[0m
2022/04/20 17:38:13.631988 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term23, index369[0m
2022/04/20 17:38:13.631989 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term23, index369[0m
2022/04/20 17:38:13.632016 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term23, index369[0m
2022/04/20 17:38:14.016731 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term22, index366[0m
2022/04/20 17:38:14.016768 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term23, index369[0m
2022/04/20 17:38:14.131374 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:38:14.650589 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:38:15.248787 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:38:15.895948 test_test.go:104: [0;37m[info] partition: [2 5], [1 3 4][0m
2022/04/20 17:38:16.512857 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 27 with index 461[0m
2022/04/20 17:38:16.523931 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:16.532001 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term27, index462[0m
2022/04/20 17:38:16.532083 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term27, index462[0m
2022/04/20 17:38:16.532089 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term27, index462[0m
2022/04/20 17:38:16.972399 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term27, index462[0m
2022/04/20 17:38:17.166822 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term27, index462[0m
2022/04/20 17:38:18.384965 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:38:18.389950 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:38:18.389998 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:38:18.390029 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:38:18.395207 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
--- PASS: TestManyPartitionsOneClient2B (23.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.538s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
2022/04/20 17:38:22.185320 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:38:22.185724 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:38:22.185847 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 287.951Âµs[0m
2022/04/20 17:38:22.186482 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:38:22.186609 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:38:22.186706 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 140.473Âµs[0m
2022/04/20 17:38:22.187253 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:38:22.187373 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:38:22.187465 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 133.508Âµs[0m
2022/04/20 17:38:22.187998 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:38:22.188126 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:38:22.188215 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 140.569Âµs[0m
2022/04/20 17:38:22.188801 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:38:22.188911 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:38:22.189023 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 151.197Âµs[0m
2022/04/20 17:38:22.691750 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 6 with index 5[0m
2022/04/20 17:38:22.694443 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:22.699436 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:38:22.701865 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:38:22.701940 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:38:22.701873 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:38:22.704449 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:38:23.489577 test_test.go:104: [0;37m[info] partition: [4 5], [1 2 3][0m
2022/04/20 17:38:24.002840 test_test.go:104: [0;37m[info] partition: [1], [2 3 4 5][0m
2022/04/20 17:38:24.526979 test_test.go:104: [0;37m[info] partition: [4], [1 2 3 5][0m
2022/04/20 17:38:25.027167 test_test.go:104: [0;37m[info] partition: [1 3 4], [2 5][0m
2022/04/20 17:38:25.548331 test_test.go:104: [0;37m[info] partition: [1 2 4], [3 5][0m
2022/04/20 17:38:26.088618 test_test.go:104: [0;37m[info] partition: [], [1 2 3 4 5][0m
2022/04/20 17:38:26.093007 raft.go:854: [0;31m[error] peer 3 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:26.093045 raft.go:854: [0;31m[error] peer 3 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:26.189846 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 8 with index 296[0m
2022/04/20 17:38:26.195280 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:26.200731 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term8, index297[0m
2022/04/20 17:38:26.203385 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term8, index297[0m
2022/04/20 17:38:26.203410 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term8, index297[0m
2022/04/20 17:38:26.203435 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term8, index297[0m
2022/04/20 17:38:26.700906 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:38:27.223119 test_test.go:104: [0;37m[info] partition: [3], [1 2 4 5][0m
2022/04/20 17:38:27.561503 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term8, index297[0m
2022/04/20 17:38:27.790366 test_test.go:104: [0;37m[info] partition: [1 2 4], [3 5][0m
2022/04/20 17:38:28.460566 test_test.go:104: [0;37m[info] partition: [2 4 5], [1 3][0m
2022/04/20 17:38:28.476627 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:38:28.482087 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:38:28.482107 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:38:28.482113 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:38:29.097058 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 12 with index 642[0m
2022/04/20 17:38:29.102329 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:29.209391 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term12, index643[0m
2022/04/20 17:38:29.209395 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term12, index643[0m
2022/04/20 17:38:29.209488 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term12, index643[0m
2022/04/20 17:38:29.958103 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term12, index643[0m
2022/04/20 17:38:31.094953 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term12, index643[0m
2022/04/20 17:38:35.978721 test_test.go:104: [0;37m[info] partition: [1 2 3], [4 5][0m
2022/04/20 17:38:36.638919 test_test.go:104: [0;37m[info] partition: [1 2 3 4 5], [][0m
2022/04/20 17:38:37.187119 test_test.go:104: [0;37m[info] partition: [1 2 3], [4 5][0m
2022/04/20 17:38:37.806589 test_test.go:104: [0;37m[info] partition: [1 2 4], [3 5][0m
2022/04/20 17:38:38.459802 test_test.go:104: [0;37m[info] partition: [4], [1 2 3 5][0m
2022/04/20 17:38:38.493146 raft.go:854: [0;31m[error] peer 2 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:39.074058 test_test.go:104: [0;37m[info] partition: [1 2 3 4], [5][0m
2022/04/20 17:38:39.090846 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 15 with index 1318[0m
2022/04/20 17:38:39.098825 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:39.115227 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term15, index1319[0m
2022/04/20 17:38:39.118031 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term15, index1319[0m
2022/04/20 17:38:39.118051 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term15, index1319[0m
2022/04/20 17:38:39.235226 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term15, index1319[0m
2022/04/20 17:38:39.640287 test_test.go:104: [0;37m[info] partition: [1 4 5], [2 3][0m
2022/04/20 17:38:40.184505 test_test.go:104: [0;37m[info] partition: [4], [1 2 3 5][0m
2022/04/20 17:38:40.191225 raft.go:854: [0;31m[error] peer 2 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:40.758659 test_test.go:104: [0;37m[info] partition: [3], [1 2 4 5][0m
2022/04/20 17:38:40.789319 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 19 with index 1410[0m
2022/04/20 17:38:40.824750 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:40.834373 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term19, index1411[0m
2022/04/20 17:38:40.839984 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term19, index1411[0m
2022/04/20 17:38:40.840006 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term19, index1411[0m
2022/04/20 17:38:41.687609 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term19, index1411[0m
2022/04/20 17:38:43.867083 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term15, index1319[0m
2022/04/20 17:38:44.006106 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term19, index1411[0m
2022/04/20 17:38:46.394290 test_test.go:104: [0;37m[info] partition: [1 2 3 5], [4][0m
2022/04/20 17:38:47.040507 test_test.go:104: [0;37m[info] partition: [1 4], [2 3 5][0m
2022/04/20 17:38:47.581740 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:38:47.594159 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:38:47.594181 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:38:47.594187 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:38:47.594193 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:38:48.239767 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 22 with index 1930[0m
2022/04/20 17:38:48.243894 test_test.go:104: [0;37m[info] partition: [4 5], [1 2 3][0m
2022/04/20 17:38:48.252936 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:48.915083 test_test.go:104: [0;37m[info] partition: [2], [1 3 4 5][0m
2022/04/20 17:38:48.972572 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:49.306152 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:49.306187 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:49.310951 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:49.465543 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term22, index1931[0m
2022/04/20 17:38:49.465560 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term22, index1931[0m
2022/04/20 17:38:49.468307 test_test.go:104: [0;37m[info] partition: [3 4], [1 2 5][0m
2022/04/20 17:38:49.486833 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:49.486854 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:49.486862 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:49.486869 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:38:49.773786 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term22, index1931[0m
2022/04/20 17:38:50.164544 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:38:50.240930 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 25 with index 1944[0m
2022/04/20 17:38:50.279833 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.474558 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.482463 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.482499 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.490529 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.490608 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:50.724776 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:38:50.865485 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term25, index1945[0m
2022/04/20 17:38:50.867863 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term25, index1945[0m
2022/04/20 17:38:50.947104 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term22, index1931[0m
2022/04/20 17:38:50.962698 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term25, index1945[0m
2022/04/20 17:38:51.448272 raft.go:854: [0;31m[error] peer 5 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:38:51.941394 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 29 with index 2030[0m
2022/04/20 17:38:51.946739 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:51.946782 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:51.952108 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term29, index2031[0m
2022/04/20 17:38:51.952120 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term29, index2031[0m
2022/04/20 17:38:51.952124 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term29, index2031[0m
2022/04/20 17:38:52.700672 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term25, index1945[0m
2022/04/20 17:38:52.783334 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term22, index1931[0m
2022/04/20 17:38:52.793361 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term25, index1945[0m
2022/04/20 17:38:52.816216 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term29, index2031[0m
2022/04/20 17:38:52.921304 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term29, index2031[0m
2022/04/20 17:38:54.703377 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:38:54.708409 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:38:54.710805 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:38:54.713112 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:38:54.713141 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
--- PASS: TestManyPartitionsManyClients2B (33.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.841s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/04/20 17:38:58.317237 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:38:58.317585 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:38:58.317681 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 244.462Âµs[0m
2022/04/20 17:38:58.318113 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:38:58.318219 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:38:58.318289 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 111.351Âµs[0m
2022/04/20 17:38:58.318651 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:38:58.318735 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:38:58.318790 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 83.731Âµs[0m
2022/04/20 17:38:58.319169 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:38:58.319253 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:38:58.319317 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 92.39Âµs[0m
2022/04/20 17:38:58.319672 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:38:58.319774 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:38:58.319855 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 107.571Âµs[0m
2022/04/20 17:38:58.822738 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 6 with index 5[0m
2022/04/20 17:38:58.827982 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:38:58.833577 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:38:58.833610 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:38:58.833651 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:38:58.833672 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:38:58.833709 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:39:04.335509 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:39:04.335561 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:04.346346 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:04.346399 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:39:04.351611 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:04.351684 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:04.854677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:39:04.855426 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:04.855729 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:39:04.856127 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 525.867Âµs[0m
2022/04/20 17:39:04.856819 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:04.856996 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:39:04.857375 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 454.259Âµs[0m
2022/04/20 17:39:04.858056 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:04.858210 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:39:04.858613 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 460.012Âµs[0m
2022/04/20 17:39:04.859349 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:04.859529 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:39:04.859901 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 436.259Âµs[0m
2022/04/20 17:39:04.860575 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:04.860731 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:39:04.861107 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 430.938Âµs[0m
2022/04/20 17:39:05.363235 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 7 with index 272[0m
2022/04/20 17:39:05.377506 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:05.383160 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term7, index273[0m
2022/04/20 17:39:05.383187 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term7, index273[0m
2022/04/20 17:39:05.383160 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term7, index273[0m
2022/04/20 17:39:05.383167 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term7, index273[0m
2022/04/20 17:39:05.383158 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term7, index273[0m
2022/04/20 17:39:12.799710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:39:12.799745 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:12.804227 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:12.806698 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:39:12.806743 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:12.806788 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:13.307078 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:39:13.307711 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:13.307944 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:39:13.308572 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 726.503Âµs[0m
2022/04/20 17:39:13.309212 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:13.309351 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:39:13.310061 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 763.704Âµs[0m
2022/04/20 17:39:13.310704 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:13.310848 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:39:13.311556 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 757.894Âµs[0m
2022/04/20 17:39:13.312247 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:13.312381 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:39:13.312994 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 665.146Âµs[0m
2022/04/20 17:39:13.313670 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:13.313800 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:39:13.314405 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 655.019Âµs[0m
2022/04/20 17:39:13.817786 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 8 with index 687[0m
2022/04/20 17:39:13.823002 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:13.828626 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term8, index688[0m
2022/04/20 17:39:13.828663 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term8, index688[0m
2022/04/20 17:39:13.828663 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term8, index688[0m
2022/04/20 17:39:13.831648 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term8, index688[0m
2022/04/20 17:39:13.831663 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term8, index688[0m
2022/04/20 17:39:21.080696 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:39:21.080746 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:21.088895 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:21.088956 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:39:21.089002 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:21.089047 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:21.589295 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:39:21.590009 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:21.590262 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:39:21.591275 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.123184ms[0m
2022/04/20 17:39:21.591952 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:21.592111 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:39:21.592969 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 916.056Âµs[0m
2022/04/20 17:39:21.593542 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:21.593665 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:39:21.594301 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 683.967Âµs[0m
2022/04/20 17:39:21.594812 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:21.594927 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:39:21.595597 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 712.522Âµs[0m
2022/04/20 17:39:21.596055 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:21.596175 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:39:21.596748 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 621.647Âµs[0m
2022/04/20 17:39:22.197493 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 9 with index 1095[0m
2022/04/20 17:39:22.203111 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:22.206229 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term9, index1096[0m
2022/04/20 17:39:22.206304 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term9, index1096[0m
2022/04/20 17:39:22.208791 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term9, index1096[0m
2022/04/20 17:39:22.208792 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term9, index1096[0m
2022/04/20 17:39:22.208815 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term9, index1096[0m
2022/04/20 17:39:24.236191 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:24.244486 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:24.244564 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:24.249771 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:24.249828 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
--- PASS: TestPersistOneClient2B (27.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.675s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/04/20 17:39:28.021059 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:28.021486 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:39:28.021607 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 270.151Âµs[0m
2022/04/20 17:39:28.022254 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:28.022381 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:39:28.022466 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 129.651Âµs[0m
2022/04/20 17:39:28.023082 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:28.023206 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:39:28.023323 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 159.86Âµs[0m
2022/04/20 17:39:28.023897 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:28.024005 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:39:28.024100 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 135.569Âµs[0m
2022/04/20 17:39:28.024710 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:28.024814 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:39:28.024900 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 125.574Âµs[0m
2022/04/20 17:39:28.580180 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 6 with index 5[0m
2022/04/20 17:39:28.583004 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:28.587923 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:39:28.588006 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:39:28.588023 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:39:28.590305 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:39:28.590368 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:39:34.046309 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:39:34.046358 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:34.058595 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:34.058659 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:39:34.058713 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:34.058759 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:34.558968 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:39:34.559703 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:34.559939 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:39:34.560650 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 811.267Âµs[0m
2022/04/20 17:39:34.561259 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:34.561399 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:39:34.562103 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 760.337Âµs[0m
2022/04/20 17:39:34.562711 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:34.562895 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:39:34.563603 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 807.623Âµs[0m
2022/04/20 17:39:34.564267 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:34.564398 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:39:34.565049 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 706.633Âµs[0m
2022/04/20 17:39:34.565695 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:34.565839 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:39:34.566542 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 753.145Âµs[0m
2022/04/20 17:39:35.064930 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 7 with index 909[0m
2022/04/20 17:39:35.072969 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:35.078725 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term7, index910[0m
2022/04/20 17:39:35.078763 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term7, index910[0m
2022/04/20 17:39:35.078762 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term7, index910[0m
2022/04/20 17:39:35.078808 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term7, index910[0m
2022/04/20 17:39:35.078818 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term7, index910[0m
2022/04/20 17:39:48.301189 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:39:48.301236 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:39:48.306476 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:39:48.314539 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:39:48.314612 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:39:48.314659 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:39:48.814818 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:39:48.815716 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:39:48.815911 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:39:48.817439 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.605039ms[0m
2022/04/20 17:39:48.818100 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:39:48.818227 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:39:48.819693 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 1.516095ms[0m
2022/04/20 17:39:48.820299 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:39:48.820433 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:39:48.821883 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 1.502792ms[0m
2022/04/20 17:39:48.822551 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:39:48.822672 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:39:48.823722 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 1.098056ms[0m
2022/04/20 17:39:48.824066 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:39:48.824142 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:39:48.825041 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 924.802Âµs[0m
2022/04/20 17:39:49.325854 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 8 with index 2272[0m
2022/04/20 17:39:49.329042 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:39:49.336473 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term8, index2273[0m
2022/04/20 17:39:49.336552 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term8, index2273[0m
2022/04/20 17:39:49.339039 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term8, index2273[0m
2022/04/20 17:39:49.339154 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term8, index2273[0m
2022/04/20 17:39:49.339210 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term8, index2273[0m
2022/04/20 17:40:01.999252 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:40:01.999304 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:02.003242 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:02.010645 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:02.010696 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:02.012900 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:40:02.513214 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:40:02.513967 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:02.514220 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2022/04/20 17:40:02.517237 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 3.146023ms[0m
2022/04/20 17:40:02.517917 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:02.518086 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2022/04/20 17:40:02.520274 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 2.251912ms[0m
2022/04/20 17:40:02.520695 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:02.520804 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2022/04/20 17:40:02.522423 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 1.652939ms[0m
2022/04/20 17:40:02.522864 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:02.522959 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2022/04/20 17:40:02.524571 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 1.649345ms[0m
2022/04/20 17:40:02.524961 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:02.525065 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2022/04/20 17:40:02.526647 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 1.623657ms[0m
2022/04/20 17:40:03.025473 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 9 with index 3626[0m
2022/04/20 17:40:03.033972 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:03.041985 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term9, index3627[0m
2022/04/20 17:40:03.042079 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term9, index3627[0m
2022/04/20 17:40:03.042124 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term9, index3627[0m
2022/04/20 17:40:03.042160 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term9, index3627[0m
2022/04/20 17:40:03.044889 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term9, index3627[0m
2022/04/20 17:40:10.969845 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:10.992706 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:10.992766 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:10.992821 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:10.992867 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
--- PASS: TestPersistConcurrent2B (44.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.526s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/04/20 17:40:14.947492 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:14.947800 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:40:14.947895 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 239.094Âµs[0m
2022/04/20 17:40:14.948355 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:14.948456 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:40:14.948528 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 102.256Âµs[0m
2022/04/20 17:40:14.948902 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:14.948985 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:40:14.949046 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 89.217Âµs[0m
2022/04/20 17:40:14.949434 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:14.949517 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:40:14.949581 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 91.699Âµs[0m
2022/04/20 17:40:14.949974 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:14.950060 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:40:14.950115 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 83.406Âµs[0m
2022/04/20 17:40:15.603970 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 6 with index 5[0m
2022/04/20 17:40:15.609359 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:15.614688 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:40:15.614719 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:40:15.614720 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:40:15.614722 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:40:15.614770 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:40:22.114116 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:40:22.114170 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:22.114206 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:22.114232 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:22.114281 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:22.114334 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:40:22.614524 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:40:22.615227 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:22.615430 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:40:22.615866 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 516.053Âµs[0m
2022/04/20 17:40:22.616518 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:22.616648 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:40:22.617048 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 451.912Âµs[0m
2022/04/20 17:40:22.617677 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:22.617808 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:40:22.618200 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 440.886Âµs[0m
2022/04/20 17:40:22.618791 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:22.618926 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:40:22.619339 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 457.446Âµs[0m
2022/04/20 17:40:22.619808 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:22.619910 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:40:22.620222 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 357.927Âµs[0m
2022/04/20 17:40:23.124705 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 7 with index 421[0m
2022/04/20 17:40:23.127322 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:23.132307 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term7, index422[0m
2022/04/20 17:40:23.132456 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term7, index422[0m
2022/04/20 17:40:23.135014 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term7, index422[0m
2022/04/20 17:40:23.135056 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term7, index422[0m
2022/04/20 17:40:23.135061 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term7, index422[0m
2022/04/20 17:40:32.674289 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 10 with index 984[0m
2022/04/20 17:40:32.701542 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:32.744884 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term10, index985[0m
2022/04/20 17:40:32.744888 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term10, index985[0m
2022/04/20 17:40:32.747408 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term10, index985[0m
2022/04/20 17:40:32.782958 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term10, index985[0m
2022/04/20 17:40:32.822953 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term10, index985[0m
2022/04/20 17:40:33.102714 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:40:33.102768 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:33.102854 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:33.102887 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:33.102929 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:33.103007 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:40:33.603151 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:40:33.603749 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:33.603961 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:40:33.604681 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 809.87Âµs[0m
2022/04/20 17:40:33.605243 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:33.605369 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:40:33.606049 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 730.199Âµs[0m
2022/04/20 17:40:33.606639 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:33.606768 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:40:33.607528 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 810.632Âµs[0m
2022/04/20 17:40:33.608156 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:33.608303 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:40:33.609129 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 883.203Âµs[0m
2022/04/20 17:40:33.609769 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:33.609920 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:40:33.610701 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 840.079Âµs[0m
2022/04/20 17:40:34.108357 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 11 with index 987[0m
2022/04/20 17:40:34.116583 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:34.119359 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term11, index988[0m
2022/04/20 17:40:34.119432 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term11, index988[0m
2022/04/20 17:40:34.119441 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term11, index988[0m
2022/04/20 17:40:34.119468 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term11, index988[0m
2022/04/20 17:40:34.122431 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term11, index988[0m
2022/04/20 17:40:42.514620 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 13 with index 1537[0m
2022/04/20 17:40:42.522693 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:42.530979 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:42.544334 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term13, index1538[0m
2022/04/20 17:40:42.558175 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term13, index1538[0m
2022/04/20 17:40:42.715897 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term13, index1538[0m
2022/04/20 17:40:43.251587 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term13, index1538[0m
2022/04/20 17:40:43.277426 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term13, index1538[0m
2022/04/20 17:40:43.624056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:40:43.624103 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:43.624161 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:43.624212 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:43.624277 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:43.624311 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:40:44.124468 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:40:44.125199 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:44.125414 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:40:44.126604 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.282934ms[0m
2022/04/20 17:40:44.127328 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:44.127473 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:40:44.128505 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 1.083709ms[0m
2022/04/20 17:40:44.129059 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:44.129192 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:40:44.130241 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 1.102235ms[0m
2022/04/20 17:40:44.130760 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:44.130881 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:40:44.131972 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 1.136748ms[0m
2022/04/20 17:40:44.132536 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:44.132661 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:40:44.133685 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 1.070046ms[0m
2022/04/20 17:40:44.633527 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 14 with index 1544[0m
2022/04/20 17:40:44.638115 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:44.643034 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term14, index1545[0m
2022/04/20 17:40:44.645529 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term14, index1545[0m
2022/04/20 17:40:44.645594 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term14, index1545[0m
2022/04/20 17:40:44.645612 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term14, index1545[0m
2022/04/20 17:40:44.648004 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term14, index1545[0m
2022/04/20 17:40:47.910086 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:47.917650 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:40:47.917733 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:47.917793 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:47.919341 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
--- PASS: TestPersistConcurrentUnreliable2B (34.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.229s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/04/20 17:40:51.831069 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:40:51.831497 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:40:51.831621 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 302.512Âµs[0m
2022/04/20 17:40:51.832254 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:40:51.832378 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:40:51.832487 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 154.866Âµs[0m
2022/04/20 17:40:51.833200 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:40:51.833323 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:40:51.833417 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 139.04Âµs[0m
2022/04/20 17:40:51.834029 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:40:51.834142 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:40:51.834246 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 146.994Âµs[0m
2022/04/20 17:40:51.834823 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:40:51.834939 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:40:51.835077 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 180.347Âµs[0m
2022/04/20 17:40:52.390764 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 6 with index 5[0m
2022/04/20 17:40:52.396693 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:52.402394 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:40:52.402416 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:40:52.402440 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:40:52.402423 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:40:52.402393 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:40:53.135500 test_test.go:104: [0;37m[info] partition: [1 2], [3 4 5][0m
2022/04/20 17:40:53.777647 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:40:54.463866 test_test.go:104: [0;37m[info] partition: [1 2 4], [3 5][0m
2022/04/20 17:40:55.049121 test_test.go:104: [0;37m[info] partition: [1], [2 3 4 5][0m
2022/04/20 17:40:55.638095 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 11 with index 269[0m
2022/04/20 17:40:55.645611 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.655717 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.655788 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.655815 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.655838 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.655859 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:55.669775 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term11, index270[0m
2022/04/20 17:40:55.672096 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term11, index270[0m
2022/04/20 17:40:55.681003 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term11, index270[0m
2022/04/20 17:40:55.723293 test_test.go:104: [0;37m[info] partition: [3 5], [1 2 4][0m
2022/04/20 17:40:56.277477 test_test.go:104: [0;37m[info] partition: [3], [1 2 4 5][0m
2022/04/20 17:40:56.338872 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 13 with index 282[0m
2022/04/20 17:40:56.338966 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.344536 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.713503 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.718141 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.735941 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.735997 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.736015 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.741111 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.741148 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.741162 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.753751 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 280, it's own commit is 281[0m
2022/04/20 17:40:56.761181 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:56.802596 test_test.go:104: [0;37m[info] partition: [1 4], [2 3 5][0m
2022/04/20 17:40:57.340756 test_test.go:104: [0;37m[info] partition: [1 2 3 5], [4][0m
2022/04/20 17:40:57.591024 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 15 with index 286[0m
2022/04/20 17:40:57.619611 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.717399 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.736468 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.736510 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.741411 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.753579 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:40:57.892913 test_test.go:104: [0;37m[info] partition: [2], [1 3 4 5][0m
2022/04/20 17:40:57.940415 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:40:57.940479 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:40:58.056070 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term15, index287[0m
2022/04/20 17:40:58.056126 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term15, index287[0m
2022/04/20 17:40:58.061726 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term15, index287[0m
2022/04/20 17:40:59.040298 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:40:59.040351 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:40:59.490612 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term11, index270[0m
2022/04/20 17:40:59.511246 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term15, index287[0m
2022/04/20 17:40:59.547993 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:40:59.550574 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:40:59.555864 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:40:59.555910 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:00.056111 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:00.056848 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:00.057090 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:00.057472 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 475.289Âµs[0m
2022/04/20 17:41:00.058177 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:00.058309 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:00.058486 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 226.864Âµs[0m
2022/04/20 17:41:00.059211 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:00.059356 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:00.059655 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 347.743Âµs[0m
2022/04/20 17:41:00.060255 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:00.060396 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:00.060708 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 364.903Âµs[0m
2022/04/20 17:41:00.061258 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:00.061409 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:00.061722 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 383.281Âµs[0m
2022/04/20 17:41:00.563727 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 16 with index 304[0m
2022/04/20 17:41:00.568838 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:00.573652 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term16, index305[0m
2022/04/20 17:41:00.576619 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term16, index305[0m
2022/04/20 17:41:00.576624 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term16, index305[0m
2022/04/20 17:41:00.579078 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term16, index305[0m
2022/04/20 17:41:03.012236 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term11, index270[0m
2022/04/20 17:41:03.037289 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term15, index287[0m
2022/04/20 17:41:03.070272 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term16, index305[0m
2022/04/20 17:41:03.592931 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:41:04.122097 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:41:04.626282 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:41:05.169553 test_test.go:104: [0;37m[info] partition: [5], [1 2 3 4][0m
2022/04/20 17:41:05.265548 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265580 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265591 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265602 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:05.265612 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265621 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265631 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265640 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265649 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265658 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:05.265667 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265676 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265698 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265708 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265717 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265727 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:05.265735 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.265746 raft.go:616: [0;33m[warning] peer 4 is not a leader, but handling the append responce[0m
2022/04/20 17:41:05.670144 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 19 with index 777[0m
2022/04/20 17:41:05.688138 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:05.696034 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term19, index778[0m
2022/04/20 17:41:05.711688 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term19, index778[0m
2022/04/20 17:41:05.727264 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term19, index778[0m
2022/04/20 17:41:05.830699 test_test.go:104: [0;37m[info] partition: [5], [1 2 3 4][0m
2022/04/20 17:41:06.430837 test_test.go:104: [0;37m[info] partition: [1 3 4], [2 5][0m
2022/04/20 17:41:07.014086 test_test.go:104: [0;37m[info] partition: [4], [1 2 3 5][0m
2022/04/20 17:41:07.514231 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 20 with index 964[0m
2022/04/20 17:41:07.520386 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:07.645306 test_test.go:104: [0;37m[info] partition: [], [1 2 3 4 5][0m
2022/04/20 17:41:07.668617 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:07.674096 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:07.674123 raft.go:854: [0;31m[error] peer 4 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:07.718611 raft.go:592: [0;33m[warning] peer 4 handles an old append request with commit 960, it's own commit is 964[0m
2022/04/20 17:41:07.738748 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term20, index965[0m
2022/04/20 17:41:07.738795 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term20, index965[0m
2022/04/20 17:41:07.738749 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term20, index965[0m
2022/04/20 17:41:08.200553 test_test.go:104: [0;37m[info] partition: [1 3 4], [2 5][0m
2022/04/20 17:41:08.913022 raft.go:854: [0;31m[error] peer 3 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:09.326981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:41:09.327064 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:09.327132 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:41:09.327202 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:09.327246 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:09.327282 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:09.827473 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:09.828200 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:09.828435 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:09.829355 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.011093ms[0m
2022/04/20 17:41:09.829990 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:09.830156 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:09.830606 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 506.907Âµs[0m
2022/04/20 17:41:09.831340 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:09.831470 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:09.832089 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 666.583Âµs[0m
2022/04/20 17:41:09.832527 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:09.832644 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:09.833235 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 629.208Âµs[0m
2022/04/20 17:41:09.833669 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:09.833773 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:09.834210 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 478.563Âµs[0m
2022/04/20 17:41:10.387544 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 21 with index 1035[0m
2022/04/20 17:41:10.392684 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:41:10.392741 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:41:10.392751 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:41:10.397953 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:41:10.983927 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 23 with index 1036[0m
2022/04/20 17:41:11.004612 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:11.009995 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term21, index1036[0m
2022/04/20 17:41:11.010036 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term23, index1037[0m
2022/04/20 17:41:11.010017 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term21, index1036[0m
2022/04/20 17:41:11.010121 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term23, index1037[0m
2022/04/20 17:41:11.015291 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term21, index1036[0m
2022/04/20 17:41:11.015312 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term23, index1037[0m
2022/04/20 17:41:13.167075 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term19, index778[0m
2022/04/20 17:41:13.407967 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term20, index965[0m
2022/04/20 17:41:13.499498 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term21, index1036[0m
2022/04/20 17:41:13.499530 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term23, index1037[0m
2022/04/20 17:41:15.653268 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term19, index778[0m
2022/04/20 17:41:15.925821 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term20, index965[0m
2022/04/20 17:41:16.042083 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term21, index1036[0m
2022/04/20 17:41:16.042126 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term23, index1037[0m
2022/04/20 17:41:16.276069 test_test.go:104: [0;37m[info] partition: [1 2], [3 4 5][0m
2022/04/20 17:41:16.885387 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 24 with index 1381[0m
2022/04/20 17:41:16.888383 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:16.902484 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term24, index1382[0m
2022/04/20 17:41:16.904812 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term24, index1382[0m
2022/04/20 17:41:16.907150 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term24, index1382[0m
2022/04/20 17:41:16.908304 test_test.go:104: [0;37m[info] partition: [2 3 4 5], [1][0m
2022/04/20 17:41:16.994630 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term24, index1382[0m
2022/04/20 17:41:17.416584 test_test.go:104: [0;37m[info] partition: [1 3 5], [2 4][0m
2022/04/20 17:41:17.483163 raft.go:854: [0;31m[error] peer 1 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:17.590346 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term24, index1382[0m
2022/04/20 17:41:17.953851 test_test.go:104: [0;37m[info] partition: [], [1 2 3 4 5][0m
2022/04/20 17:41:18.496069 test_test.go:104: [0;37m[info] partition: [1 2 3], [4 5][0m
2022/04/20 17:41:19.190243 test_test.go:104: [0;37m[info] partition: [2 3 4 5], [1][0m
2022/04/20 17:41:19.209839 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209875 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209889 raft.go:854: [0;31m[error] peer 3 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:19.209900 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209911 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209922 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209933 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.209940 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.215288 raft.go:616: [0;33m[warning] peer 3 is not a leader, but handling the append responce[0m
2022/04/20 17:41:19.883455 test_test.go:104: [0;37m[info] partition: [1], [2 3 4 5][0m
2022/04/20 17:41:20.435639 test_test.go:104: [0;37m[info] partition: [4 5], [1 2 3][0m
2022/04/20 17:41:20.446892 raft.go:380: [0;33m[warning] node 2 becomeLeader at term 28 with index 1604[0m
2022/04/20 17:41:20.464082 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.507674 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.507707 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.507728 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.507749 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.507759 raft.go:652: [0;37m[info] peer 2(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:20.540026 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term28, index1605[0m
2022/04/20 17:41:20.540030 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term28, index1605[0m
2022/04/20 17:41:20.546795 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term28, index1605[0m
2022/04/20 17:41:21.124895 test_test.go:104: [0;37m[info] partition: [2 3 5], [1 4][0m
2022/04/20 17:41:21.142285 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:41:21.142308 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:41:21.142317 raft.go:854: [0;31m[error] peer 2 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:21.142325 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:41:21.142331 raft.go:616: [0;33m[warning] peer 2 is not a leader, but handling the append responce[0m
2022/04/20 17:41:21.785878 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 31 with index 1701[0m
2022/04/20 17:41:21.796463 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:21.828534 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term31, index1702[0m
2022/04/20 17:41:21.828561 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term31, index1702[0m
2022/04/20 17:41:21.828650 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term31, index1702[0m
2022/04/20 17:41:22.218228 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:41:22.218262 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:22.218315 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:41:22.218367 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:22.221876 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:22.224585 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:22.724848 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:22.725579 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:22.725821 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:22.727360 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.642628ms[0m
2022/04/20 17:41:22.728028 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:22.728196 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:22.729517 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 1.39588ms[0m
2022/04/20 17:41:22.730163 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:22.730298 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:22.731675 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 1.42891ms[0m
2022/04/20 17:41:22.732414 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:22.732566 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:22.733756 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 1.252061ms[0m
2022/04/20 17:41:22.734523 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:22.734704 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:22.735959 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 1.308748ms[0m
2022/04/20 17:41:23.686943 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 33 with index 1702[0m
2022/04/20 17:41:23.692430 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:23.698035 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term33, index1703[0m
2022/04/20 17:41:23.698051 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term33, index1703[0m
2022/04/20 17:41:23.698033 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term33, index1703[0m
2022/04/20 17:41:24.960983 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term28, index1605[0m
2022/04/20 17:41:25.192876 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term31, index1702[0m
2022/04/20 17:41:25.192901 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term33, index1703[0m
2022/04/20 17:41:26.644512 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term28, index1605[0m
2022/04/20 17:41:26.811442 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term31, index1702[0m
2022/04/20 17:41:26.811476 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term33, index1703[0m
2022/04/20 17:41:26.890075 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:26.895117 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:26.908574 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:26.908615 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:26.908677 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
--- PASS: TestPersistPartition2B (36.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.774s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/04/20 17:41:30.811137 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:30.811473 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:30.811574 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 242.361Âµs[0m
2022/04/20 17:41:30.811947 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:30.812044 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:30.812116 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 109.498Âµs[0m
2022/04/20 17:41:30.812482 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:30.812565 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:30.812623 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 86.229Âµs[0m
2022/04/20 17:41:30.812987 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:30.813067 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:30.813133 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 94.485Âµs[0m
2022/04/20 17:41:30.813463 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:30.813551 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:30.813615 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 94.44Âµs[0m
2022/04/20 17:41:31.365864 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 6 with index 5[0m
2022/04/20 17:41:31.370985 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:31.376232 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term6, index6[0m
2022/04/20 17:41:31.376288 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term6, index6[0m
2022/04/20 17:41:31.378795 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term6, index6[0m
2022/04/20 17:41:31.378841 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term6, index6[0m
2022/04/20 17:41:31.378831 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term6, index6[0m
2022/04/20 17:41:32.114069 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:41:32.647249 test_test.go:104: [0;37m[info] partition: [2 4], [1 3 5][0m
2022/04/20 17:41:33.288473 test_test.go:104: [0;37m[info] partition: [1 3 5], [2 4][0m
2022/04/20 17:41:33.796698 test_test.go:104: [0;37m[info] partition: [5], [1 2 3 4][0m
2022/04/20 17:41:33.867266 raft.go:854: [0;31m[error] peer 1 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:33.964808 raft.go:380: [0;33m[warning] node 4 becomeLeader at term 9 with index 127[0m
2022/04/20 17:41:33.964986 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 125, it's own commit is 127[0m
2022/04/20 17:41:33.969815 raft.go:652: [0;37m[info] peer 4(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:34.475954 test_test.go:104: [0;37m[info] partition: [2], [1 3 4 5][0m
2022/04/20 17:41:34.564890 raft.go:592: [0;33m[warning] peer 5 handles an old append request with commit 125, it's own commit is 127[0m
2022/04/20 17:41:34.573659 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term9, index128[0m
2022/04/20 17:41:34.576149 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term9, index128[0m
2022/04/20 17:41:34.576212 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term9, index128[0m
2022/04/20 17:41:35.111060 test_test.go:104: [0;37m[info] partition: [3 5], [1 2 4][0m
2022/04/20 17:41:35.646310 test_test.go:104: [0;37m[info] partition: [1 2 3 5], [4][0m
2022/04/20 17:41:35.915769 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 10 with index 192[0m
2022/04/20 17:41:35.916037 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:35.920897 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:36.106309 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:36.107856 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:36.124868 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:36.138648 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:36.138686 raft.go:592: [0;33m[warning] peer 1 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:36.144093 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:36.144117 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:36.266550 test_test.go:104: [0;37m[info] partition: [1 3], [2 4 5][0m
2022/04/20 17:41:36.551691 raft.go:592: [0;33m[warning] peer 4 handles an old append request with commit 189, it's own commit is 192[0m
2022/04/20 17:41:36.567502 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term10, index193[0m
2022/04/20 17:41:36.567555 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term10, index193[0m
2022/04/20 17:41:36.779760 test_test.go:104: [0;37m[info] partition: [1 2 4 5], [3][0m
2022/04/20 17:41:36.815948 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term10, index193[0m
2022/04/20 17:41:37.813043 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:41:37.813095 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:37.813146 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:41:37.813216 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:37.813261 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:37.813296 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:38.313527 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:38.314218 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:38.314428 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:38.314742 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 407.316Âµs[0m
2022/04/20 17:41:38.315472 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:38.315619 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:38.315777 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 218.785Âµs[0m
2022/04/20 17:41:38.316438 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:38.316571 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:38.316756 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 231.536Âµs[0m
2022/04/20 17:41:38.317394 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:38.317543 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:38.317852 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 368.788Âµs[0m
2022/04/20 17:41:38.318452 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:38.318573 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:38.318838 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 309.492Âµs[0m
2022/04/20 17:41:38.880380 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 13 with index 243[0m
2022/04/20 17:41:38.900343 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:38.948470 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term13, index244[0m
2022/04/20 17:41:38.948507 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term13, index244[0m
2022/04/20 17:41:38.948504 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term13, index244[0m
2022/04/20 17:41:40.720786 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term9, index128[0m
2022/04/20 17:41:40.747614 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term9, index128[0m
2022/04/20 17:41:40.808545 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term10, index193[0m
2022/04/20 17:41:40.830760 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term10, index193[0m
2022/04/20 17:41:40.867165 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term13, index244[0m
2022/04/20 17:41:40.888242 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term13, index244[0m
2022/04/20 17:41:41.731495 test_test.go:104: [0;37m[info] partition: [1 3 4 5], [2][0m
2022/04/20 17:41:42.354690 test_test.go:104: [0;37m[info] partition: [1 2 5], [3 4][0m
2022/04/20 17:41:42.380026 raft.go:616: [0;33m[warning] peer 1 is not a leader, but handling the append responce[0m
2022/04/20 17:41:43.005858 test_test.go:104: [0;37m[info] partition: [1 2 3 4 5], [][0m
2022/04/20 17:41:43.071811 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 16 with index 532[0m
2022/04/20 17:41:43.076483 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:43.084218 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term16, index533[0m
2022/04/20 17:41:43.084330 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term16, index533[0m
2022/04/20 17:41:43.089285 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term16, index533[0m
2022/04/20 17:41:43.102650 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term16, index533[0m
2022/04/20 17:41:43.636065 test_test.go:104: [0;37m[info] partition: [3 4 5], [1 2][0m
2022/04/20 17:41:44.169878 test_test.go:104: [0;37m[info] partition: [1 2 4 5], [3][0m
2022/04/20 17:41:44.179234 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:41:44.179256 raft.go:616: [0;33m[warning] peer 5 is not a leader, but handling the append responce[0m
2022/04/20 17:41:44.187169 raft.go:854: [0;31m[error] peer 5 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:44.723824 raft.go:380: [0;33m[warning] node 5 becomeLeader at term 19 with index 702[0m
2022/04/20 17:41:44.726813 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:44.727073 test_test.go:104: [0;37m[info] partition: [3], [1 2 4 5][0m
2022/04/20 17:41:44.736479 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:44.743564 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:44.743589 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:45.158322 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:45.369250 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:41:45.629052 raft.go:652: [0;37m[info] peer 5(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:45.869152 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term19, index703[0m
2022/04/20 17:41:45.869180 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term19, index703[0m
2022/04/20 17:41:45.898438 test_test.go:104: [0;37m[info] partition: [2], [1 3 4 5][0m
2022/04/20 17:41:45.945391 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term19, index703[0m
2022/04/20 17:41:46.079413 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term19, index703[0m
2022/04/20 17:41:46.519628 test_test.go:104: [0;37m[info] partition: [1 3 5], [2 4][0m
2022/04/20 17:41:47.666078 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:41:47.666151 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:47.666198 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:41:47.666228 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:47.666275 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:47.666337 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:48.166549 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:48.167323 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:48.167527 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:48.168238 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 787.744Âµs[0m
2022/04/20 17:41:48.168994 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:48.169179 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:48.169595 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 506.719Âµs[0m
2022/04/20 17:41:48.170337 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:48.170480 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:48.171169 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 740.981Âµs[0m
2022/04/20 17:41:48.171813 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:48.171981 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:48.172652 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 728.528Âµs[0m
2022/04/20 17:41:48.173258 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:48.173381 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:48.174015 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 678.624Âµs[0m
2022/04/20 17:41:48.873300 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 25 with index 801[0m
2022/04/20 17:41:48.879086 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:48.892693 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term25, index802[0m
2022/04/20 17:41:48.892761 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term25, index802[0m
2022/04/20 17:41:48.892749 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term25, index802[0m
2022/04/20 17:41:49.153556 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term25, index802[0m
2022/04/20 17:41:52.512931 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term16, index533[0m
2022/04/20 17:41:52.781091 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term19, index703[0m
2022/04/20 17:41:53.011407 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term25, index802[0m
2022/04/20 17:41:53.154403 test_test.go:104: [0;37m[info] partition: [1 3 5], [2 4][0m
2022/04/20 17:41:53.725610 test_test.go:104: [0;37m[info] partition: [1 2 5], [3 4][0m
2022/04/20 17:41:54.316871 test_test.go:104: [0;37m[info] partition: [1 3], [2 4 5][0m
2022/04/20 17:41:54.887076 test_test.go:104: [0;37m[info] partition: [2 4 5], [1 3][0m
2022/04/20 17:41:55.510258 test_test.go:104: [0;37m[info] partition: [1 3 5], [2 4][0m
2022/04/20 17:41:56.072169 raft.go:380: [0;33m[warning] node 1 becomeLeader at term 31 with index 1109[0m
2022/04/20 17:41:56.079653 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.088471 test_test.go:104: [0;37m[info] partition: [2 3], [1 4 5][0m
2022/04/20 17:41:56.090798 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.090834 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.090848 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.090860 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.177435 raft.go:652: [0;37m[info] peer 1(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:56.702558 test_test.go:104: [0;37m[info] partition: [1 2 3 4 5], [][0m
2022/04/20 17:41:56.803575 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term31, index1110[0m
2022/04/20 17:41:56.803607 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term31, index1110[0m
2022/04/20 17:41:56.811112 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term31, index1110[0m
2022/04/20 17:41:57.202729 test_test.go:104: [0;37m[info] partition: [1 5], [2 3 4][0m
2022/04/20 17:41:57.786003 test_test.go:104: [0;37m[info] partition: [1 3 4], [2 5][0m
2022/04/20 17:41:57.872001 raft.go:854: [0;31m[error] peer 1 get a validate heartbeat responce but is not the leader.[0m
2022/04/20 17:41:57.974650 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 33 with index 1183[0m
2022/04/20 17:41:57.982597 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.199060 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.199093 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.206835 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.206863 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.206874 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:58.425477 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term33, index1184[0m
2022/04/20 17:41:58.425512 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term33, index1184[0m
2022/04/20 17:41:58.435780 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term33, index1184[0m
2022/04/20 17:41:58.863305 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/04/20 17:41:58.863348 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:41:58.863388 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:41:58.865094 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2022/04/20 17:41:58.875619 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:41:58.878384 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:41:59.378585 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/04/20 17:41:59.379365 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/04/20 17:41:59.379625 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/04/20 17:41:59.380768 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 1.24898ms[0m
2022/04/20 17:41:59.381436 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/04/20 17:41:59.381598 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/04/20 17:41:59.382535 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 1.007239ms[0m
2022/04/20 17:41:59.383212 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/04/20 17:41:59.383356 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/04/20 17:41:59.384417 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 1.114241ms[0m
2022/04/20 17:41:59.385142 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/04/20 17:41:59.385304 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/04/20 17:41:59.386231 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 1.005819ms[0m
2022/04/20 17:41:59.386865 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/04/20 17:41:59.387041 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/04/20 17:41:59.387665 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 718.482Âµs[0m
2022/04/20 17:41:59.941730 raft.go:380: [0;33m[warning] node 3 becomeLeader at term 34 with index 1189[0m
2022/04/20 17:41:59.947691 raft.go:652: [0;37m[info] peer 3(StateLeader) handling append response, but less than half nodes have append the first entry[0m
2022/04/20 17:41:59.955643 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 5, term34, index1190[0m
2022/04/20 17:41:59.955676 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 1, term34, index1190[0m
2022/04/20 17:41:59.955672 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 3, term34, index1190[0m
2022/04/20 17:42:01.771528 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term31, index1110[0m
2022/04/20 17:42:01.776874 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term31, index1110[0m
2022/04/20 17:42:01.850769 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2022/04/20 17:42:01.856007 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term33, index1184[0m
2022/04/20 17:42:01.864378 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term33, index1184[0m
2022/04/20 17:42:01.872596 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 2, term34, index1190[0m
2022/04/20 17:42:01.878103 peer_msg_handler.go:105: [0;33m[warning] no-op entry: peer 4, term34, index1190[0m
2022/04/20 17:42:01.913346 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2022/04/20 17:42:01.913438 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2022/04/20 17:42:01.913508 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2022/04/20 17:42:01.940449 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
--- PASS: TestPersistPartitionUnreliable2B (32.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.613s
rm -rf /tmp/*test-raftstore*
